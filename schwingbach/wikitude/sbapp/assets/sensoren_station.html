<html>
<head>
<meta name="viewport" content="target-densitydpi=device-dpi, width = 320, user-scalable = 0">
<style type="text/css">
body { margin:0; padding:0; height:320px; }
div { border:0px solid #888; }

#a1 { background-color: red; position:absolute; top:20px; left:170px; width:100; height:100; border:3px solid black; text-align:center; border-radius:150px; 
      z-index:1; }
#a2 { background-color: red; position:absolute; top:50px; left:40px; width:100; height:100; border:3px solid black; text-align:center; border-radius:150px;
      z-index:1; }
#a3 { background-color: red; position:absolute; top:155px; left:10px; width:80; height:80; border:3px solid black; text-align:center; border-radius:150px;
      z-index:1; }
#a4 { background-color: red; position:absolute; top:155px; left:95px; width:80; height:80; border:3px solid black; text-align:center; border-radius:150px;
      z-index:1; }
#a5 { background-color: red; position:absolute; top:140px; left:200px; width:100; height:100; border:3px solid black; text-align:center; border-radius:150px;
      z-index:1; }
#a6 { background-color: red; position:absolute; top:230px; left:53px; width:80; height:80; border:3px solid black; text-align:center; border-radius:150px;
      z-index:1; }
</style>
<meta name="viewport" content="target-densitydpi=device-dpi, width = 320, user-scalable = 0">
<script type="text/javascript">
function runden(zahl){
	t=Math.round(zahl*100)/100;
	st=t.toString();
	for(i=0;i<st.length-1;i++){
		if(st.charAt(i)=="."){
			st=st.substr(0,st.length-1);
			st=st.substr(0,i)+","+st.substr(i+1,1);
		}
	}
	return st;
}

function ajax_get_wind(){
    var hr = new XMLHttpRequest();
    hr.open("GET", "actualclimate.json", true);
    hr.setRequestHeader("Content-type", "application/json", true);
    hr.onreadystatechange = function() {
	   if(hr.readyState == 4 && hr.status == 200) {
		    var data = JSON.parse(hr.responseText);
			var Wind_speed = document.getElementById("wind"); 
			Wind_speed.innerHTML = "<font face=Verdana><p>" +runden(data.Wind_speed.mean) +"</font></p>";
	
		}
	}
     hr.send(null);
    
}
function ajax_get_rain(){
    var hr = new XMLHttpRequest();
    hr.open("GET", "actualclimate.json", true);
    hr.setRequestHeader("Content-type", "application/json", true);
    hr.onreadystatechange = function() {
	   if(hr.readyState == 4 && hr.status == 200) {
		    var data = JSON.parse(hr.responseText);
			var Rainfall = document.getElementById("rain"); 
			Rainfall.innerHTML = "<font face=Verdana><p>" +runden(data.Rainfall.mean) +"</font></p>";
	
		}
	}
     hr.send(null);
    
}
function ajax_get_sun(){
    var hr = new XMLHttpRequest();
    hr.open("GET", "actualclimate.json", true);
    hr.setRequestHeader("Content-type", "application/json", true);
    hr.onreadystatechange = function() {
	   if(hr.readyState == 4 && hr.status == 200) {
		    var data = JSON.parse(hr.responseText);
			var Solar_radiation = document.getElementById("sun"); 
			Solar_radiation.innerHTML = "<font face=Verdana><p>" +runden(data.Solar_radiation.mean) +"</font></p>";
	
		}
	}
     hr.send(null);
    
}
function ajax_get_humidity(){
    var hr = new XMLHttpRequest();
    hr.open("GET", "actualclimate.json", true);
    hr.setRequestHeader("Content-type", "application/json", true);
    hr.onreadystatechange = function() {
	   if(hr.readyState == 4 && hr.status == 200) {
		    var data = JSON.parse(hr.responseText);
			var Humidity = document.getElementById("humidity"); 
			Humidity.innerHTML = "<font face=Verdana><p>" +runden(data.Humidity.mean) +"</font></p>";
	
		}
	}
     hr.send(null);
    
}
function ajax_get_temperature(){
    var hr = new XMLHttpRequest();
    hr.open("GET", "actualclimate.json", true);
    hr.setRequestHeader("Content-type", "application/json", true);
    hr.onreadystatechange = function() {
	   if(hr.readyState == 4 && hr.status == 200) {
		    var data = JSON.parse(hr.responseText);
			var temperature = document.getElementById("temperature"); 
			temperature.innerHTML = "<font face=Verdana><p>" +runden(data.temperature.mean) +"</font></p>";
	
		}
	}
     hr.send(null);
    
}
</script>
</head>
<body>
	<span style="display: block !important; width: 320px; text-align: center; font-family: sans-serif; font-size: 12px;">
<font color="#000204"><font face="sans-serif, Arial, Verdana, Trebuchet MS"><font style="font-size: 12pt">
<div id="a1"><div id="wind"></div>[m/s]</div>
<script type="text/javascript">ajax_get_wind();</script>
<div id="a2"><div id="sun"></div>[W/m&sup2;]</div>
<script type="text/javascript">ajax_get_sun();</script>
<div id="a3"><div id="temperature"></div>[&deg;C]</div>
<script type="text/javascript">ajax_get_temperature();</script>
<div id="a4"><div id="humidity"></div>[%rel.]</div>
<script type="text/javascript">ajax_get_humidity();</script>
<div id="a5"><div id="rain"></div>[l/m&sup2;*Tag]</div>
<script type="text/javascript">ajax_get_rain();</script>
<div id="a6"><br>Erkl&auml;rung Sensoren</div>

<br></span>

</font></font></font>
</body>

</body>
</html>


